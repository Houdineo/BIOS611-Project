# BIOS 611 Final Project

This repository contains my final project for **BIOS611: Introduction to Data Science**.  
The goal of the project is to clean and analyze NYC air quality data, generate a series of 
figures, and compile them into a reproducible report.

The entire project is fully reproducible using a Docker container and a Makefile.  
A fresh clone of this repository can be built from scratch using only:

git clone

docker build

docker run

make report.pdf

---

# 1. Repository Structure

```
.
├── data/               # Raw input data (Air_Quality.csv)
├── figures/            # Generated figures (png)
├── geography/          # Geospatial data (CD.geojson)
├── scripts/            # R scripts for cleaning + figure generation
├── report.Rmd          # Main report file
├── Makefile            # Workflow automation
├── Dockerfile          # Project container
└── README.md           # This file
```

---

# 2. How to Build and Run the Docker Container

This project uses a containerized RStudio environment based on  
`amoselb/rstudio-m1`

To build the image:

docker build -t project .

To run the container and mount the project directory:

docker run -v $(pwd):/home/rstudio/work -p 8787:8787 project

Then open RStudio in your browser at:

http://localhost:8787

Login (if prompted):

- **username:** rstudio  
- **password:** rstudio  

All project files will appear in `/home/rstudio/work` inside the container.

---

# 3. How to Build the Report (`report.pdf`)

From inside the container **terminal** (or from your local machine if you have R installed):

make report.pdf

This will:

1. Clean the raw air quality data  
2. Generate `data/air_clean.rds`  
3. Build all figures in `figures/`  
4. Knit `report.Rmd` into `report.pdf`  

The final report will appear in the project root as:

report.pdf

---

# 4. Developer Instructions (Makefile Overview)

The entire project is organized through a **Makefile**, which handles every step of the workflow.

### Key Makefile Targets

make clean # Removes figures + report

make dir # Ensures figures/ directory exists

make report.pdf # Full pipeline (clean → process data → build figures → knit report)


### Dependency Graph

- `data/air_clean.rds` is generated by `01_clean_air.R`
- Each figure depends on:
  - its corresponding script
  - `air_clean.rds`
- `report.pdf` depends on:
  - `report.Rmd`
  - all figures

This ensures that modifying *any* script or data file automatically triggers rebuilding only what is needed.

---

# 5. Data Sources

All data needed to run this project is already included in the repository:

- `data/Air_Quality.csv` — NYC air quality dataset  
- `geography/CD.geojson` — Community district boundaries (used for mapping)

No external downloads are required.

Air_Quality.csv — NYC Open Data

https://catalog.data.gov/dataset/air-quality

or

https://data.cityofnewyork.us/Environment/Air-Quality/c3uy-2p5r/about_data

CD.geojson — NYC Planning Community District Boundaries  

https://github.com/nychealth/EHDP-data/blob/production/geography/CD.geojson

The Makefile will regenerate all derived data and figures automatically.

---

# 6. Reproducibility

This project has been tested from a **fresh clone**, following the steps:

git clone https://github.com/Houdineo/BIOS611-Project.git

cd BIOS611-Project

docker build -t project .

docker run -v $(pwd):/home/rstudio/work -p 8787:8787 project

make report.pdf


The above commands produce the full report without any manual intervention.

---

If you have any questions, feel free to contact me.  
Thank you for reviewing my BIOS611 final project!
